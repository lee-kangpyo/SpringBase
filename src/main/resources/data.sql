-- Users
INSERT INTO users (USER_NAME, PASSWORD, EMAIL, USE_YN) VALUES ('user', '$2a$12$Ju75hxXXA2D81vXxj3GWSOUf7YoliRdbX.RcNRGfEmFzz2UfDTzpa', 'akmdz@ezione.co.kr', 'Y');
INSERT INTO users (USER_NAME, PASSWORD, EMAIL, USE_YN) VALUES ('admin', '$2a$12$yFszpJFFoBOOn9HgwjHGxeW4exvztGBa75x6X6wWFXnctbu0r.eiu', NULL, 'Y');
INSERT INTO users (USER_NAME, PASSWORD, EMAIL, USE_YN) VALUES ('disabledUser', '$2a$12$Ju75hxXXA2D81vXxj3GWSOUf7YoliRdbX.RcNRGfEmFzz2UfDTzpa', NULL, 'N');
INSERT INTO users (USER_NAME, PASSWORD, EMAIL, USE_YN, LOGIN_FAILURE_COUNT, LAST_FAILURE_TIMESTAMP) VALUES ('lockedUserRecent', '$2a$12$Ju75hxXXA2D81vXxj3GWSOUf7YoliRdbX.RcNRGfEmFzz2UfDTzpa', 'recent@example.com', 'Y', 5, SYSDATE);
INSERT INTO users (USER_NAME, PASSWORD, EMAIL, USE_YN, LOGIN_FAILURE_COUNT, LAST_FAILURE_TIMESTAMP) VALUES ('lockedUserOld', '$2a$12$Ju75hxXXA2D81vXxj3GWSOUf7YoliRdbX.RcNRGfEmFzz2UfDTzpa', 'old@example.com', 'Y', 5, SYSDATE - (35/1440));

-- ROLES 테이블 초기 데이터
INSERT INTO ROLES (ROLE_ID, ROLE_NAME, DESCRIPTION) VALUES (1, 'ROLE_ADMIN', '최고 관리자');
INSERT INTO ROLES (ROLE_ID, ROLE_NAME, DESCRIPTION) VALUES (2, 'ROLE_USER', '일반 사용자');

-- RESOURCES 테이블 초기 데이터 (MENU_ITEM 타입 위주)
-- API 리소스 (Spring Security 정적 관리를 위한 최소한의 예시)
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, HTTP_METHOD, DESCRIPTION) VALUES (1, 'API', '/api/auth/login', 'POST', '로그인 API');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, HTTP_METHOD, DESCRIPTION) VALUES (2, 'API', '/api/auth/register', 'POST', '회원가입 API');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, HTTP_METHOD, DESCRIPTION) VALUES (3, 'API', '/api/auth/me', 'GET', '내 정보 조회 API');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, HTTP_METHOD, DESCRIPTION) VALUES (4, 'API', '/api/auth/logout', 'POST', '로그아웃 API');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, HTTP_METHOD, DESCRIPTION) VALUES (5, 'API', '/api/auth/refresh', 'POST', '토큰 갱신 API');

-- MENU_ITEM 리소스 (사이드바 메뉴)
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (200, 'MENU_ITEM', 'sidebar:dashboard', '대시보드', '/main', 'Dashboard', NULL, 200, 0, '사이드바 대시보드 메뉴');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (300, 'MENU_ITEM', 'group:interface', '인터페이스', NULL, 'Settings', NULL, 300, 1, '인터페이스 메뉴 그룹');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (301, 'MENU_ITEM', 'sidebar:ftp', 'FTP 전송', '/interface/ftp', 'CloudUpload', 300, 301, 0, '사이드바 FTP 전송 메뉴');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (302, 'MENU_ITEM', 'sidebar:email', '이메일 전송', '/interface/email', 'Email', 300, 302, 0, '사이드바 이메일 전송 메뉴');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (400, 'MENU_ITEM', 'group:admin', '관리자', NULL, 'AdminPanelSettings', NULL, 400, 1, '관리자 메뉴 그룹');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (401, 'MENU_ITEM', 'sidebar:members', '회원관리', '/admin/members', 'People', 400, 401, 0, '사이드바 회원관리 메뉴');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (402, 'MENU_ITEM', 'sidebar:roles', '권한관리', '/admin/roles', 'Security', 400, 402, 0, '사이드바 권한관리 메뉴');
INSERT INTO RESOURCES (RESOURCE_ID, RESOURCE_TYPE, RESOURCE_PATTERN, MENU_NAME, MENU_URL, ICON_NAME, PARENT_RESOURCE_ID, DISPLAY_ORDER, IS_GROUP, DESCRIPTION) VALUES (403, 'MENU_ITEM', 'sidebar:menu-resources', '메뉴관리', '/admin/menu-resources', 'ListAlt', 400, 403, 0, '사이드바 메뉴관리 메뉴');

-- ROLE_RESOURCE_MAPPINGS 테이블 초기 데이터
-- ROLE_ADMIN 권한 매핑
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (1, 1, 3); -- ROLE_ADMIN -> /api/auth/me
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (2, 1, 4); -- ROLE_ADMIN -> /api/auth/logout
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (3, 1, 5); -- ROLE_ADMIN -> /api/auth/refresh

-- ROLE_ADMIN 메뉴 권한
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (4, 1, 200); -- ROLE_ADMIN -> sidebar:dashboard
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (5, 1, 300); -- ROLE_ADMIN -> group:interface
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (6, 1, 301); -- ROLE_ADMIN -> sidebar:ftp
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (7, 1, 302); -- ROLE_ADMIN -> sidebar:email
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (8, 1, 400); -- ROLE_ADMIN -> group:admin
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (9, 1, 401); -- ROLE_ADMIN -> sidebar:members
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (10, 1, 402); -- ROLE_ADMIN -> sidebar:roles
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (11, 1, 403); -- ROLE_ADMIN -> sidebar:menu-resources

-- ROLE_USER 권한 매핑
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (12, 2, 3); -- ROLE_USER -> /api/auth/me
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (13, 2, 4); -- ROLE_USER -> /api/auth/logout
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (14, 2, 5); -- ROLE_USER -> /api/auth/refresh

-- ROLE_USER 메뉴 권한 (관리자 메뉴 제외)
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (15, 2, 200); -- ROLE_USER -> sidebar:dashboard
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (16, 2, 300); -- ROLE_USER -> group:interface
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (17, 2, 301); -- ROLE_USER -> sidebar:ftp
INSERT INTO ROLE_RESOURCE_MAPPINGS (ID, ROLE_ID, RESOURCE_ID) VALUES (18, 2, 302); -- ROLE_USER -> sidebar:email

-- USER_ROLES 테이블 초기 데이터
INSERT INTO USER_ROLES (ID, USER_NAME, ROLE_ID) VALUES (1, 'user', 2); -- user에게 ROLE_USER 부여
INSERT INTO USER_ROLES (ID, USER_NAME, ROLE_ID) VALUES (2, 'admin', 1); -- admin에게 ROLE_ADMIN 부여
INSERT INTO USER_ROLES (ID, USER_NAME, ROLE_ID) VALUES (3, 'disabledUser', 2); -- disabledUser에게 ROLE_USER 부여
